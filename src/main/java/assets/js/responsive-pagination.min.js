jQuery.fn.rPage=function(){function r(e){this.label=function(){var e=this.els.filter(".active").index();var t=this;this.els.each(function(){if(t.isNextOrPrevLink($(this))==false){$(this).addClass("page-away-"+Math.abs(e-$(this).index()).toString())}else{if($(this).index()>e){$(this).addClass("right-etc")}else{$(this).addClass("left-etc")}}})};this.makeResponsive=function(){this.reset();var e=this.calculateWidth();while(e>this.els.parent().parent().outerWidth()-10){var t=this.removeOne();if(t==false){break}e=this.calculateWidth()}};this.isNextOrPrevLink=function(e){return e.hasClass("pagination-prev")||e.hasClass("pagination-next")||e.text()=="»"||e.text()=="«"};this.isRemovable=function(t){if(this.isNextOrPrevLink(t)){return false}var n=this.els.filter(t).index();if(n==1||this.isNextOrPrevLink(e.find("li").eq(n+1))){return false}if(t.text()=="..."){return false}return true};this.removeOne=function(){var t=this.els.filter(".active").index();var n=e.find("li").length-1;var r=t+1;var i=t-1;for(var s=n-1;s>0;s--){var o=this.els.filter(".page-away-"+s.toString());var u=o.filter(function(){return this.style["display"]!="none"});if(u.length>0){for(var a=0;a<u.length;a++){var f=u.eq(a);if(this.isRemovable(f)){f.css("display","none");if(this.needsEtcSign(t,n-1)){this.els.eq(n-2).before("<li class='disabled removable'><span>...</span></li>")}if(this.needsEtcSign(1,t)){this.els.eq(1).after("<li class='disabled removable'><span>...</span></li>")}return true}}}}return false};this.needsEtcSign=function(t,n){if(n-t<=1){return false}else{var r=false;var i=false;for(var s=t+1;s<n;s++){var o=e.find("li").eq(s);if(o.css("display")=="none"){i=true}if(o.text()=="..."){r=true}}if(i==true&&r==false){return true}}return false};this.reset=function(){for(var t=0;t<this.els.length;t++){this.els.eq(t).css("display","inline")}e.find("li").filter(".removable").remove()};this.calculateWidth=function(){var t=0;for(var n=0;n<e.find("li").length;n++){t+=e.find("li").eq(n).children("a").eq(0).outerWidth();t+=e.find("li").eq(n).children("span").eq(0).outerWidth()}return t};this.els=e.find("li");this.label();this.makeResponsive();var t;$(window).resize($.proxy(function(){clearTimeout(t);t=setTimeout($.proxy(function(){this.makeResponsive()},this),100)},this))}var e=$(this);for(var t=0,n=e.length;t<n;t++){new r($(e[t]))}}