<#import "../layout/main.ftl.html" as layout> 
<@layout.main>
<div class="row">
	<div class="col-md-12">
		<legend>${i18n('app.myprofile')}</legend>
		<div class="panel panel-primary">
		  <div class="panel-heading"><h3 class="panel-title">${i18n('changepicture')}</h3></div>
		  <div class="panel-body">
			<form action="/users/updatepicture" role="form" method="post" enctype="multipart/form-data">
				<div class="form-group<#if validation?? && validation.hasBeanViolation("picture")> has-error</#if>">
					<#if (user.picture)??>
						<label for="currentpicture" class="control-label">${i18n('changepicture')}</label>
						<div class="controls">
		              		<img src="/assets/media/${user.picture}" border="0"/><br />
							<a href="/users/deletepicture" onclick="return confirm(${i18n('delete.picture.confirm')})">${i18n('delete')}</a>
		            	</div>
					</#if>
		            <label for="fileInput" class="control-label">${i18n('newprofilepicture')}<br />${i18n('maxprofile', 100)}</label>
		            <div class="controls">
		              <input type="file" id="picture" name="picture" class="input-file">
		            </div>
		        </div>
				<input type="submit" data-loading-text="${i18n('save')}..." class="btn btn-success" value="${i18n('save')}">
			</form>
		  </div>
		</div>
	</div>
</div>
<div class="row">
	<div class="col-md-12">
		<div class="panel panel-primary">
		  <div class="panel-heading"><h3 class="panel-title">${i18n('changeusername')}</h3></div>
		  <div class="panel-body">
			<form action="/users/updateusername" role="form" method="POST">
				<div class="form-group<#if validation?? && validation.hasBeanViolation("username")> has-error</#if>">
	            	<input type="text" name="username" id="username" class="form-control input-lg" placeholder="${i18n('app.new.username')}">
				</div>
				<input type="submit" data-loading-text="${i18n('save')}..." class="btn btn-success" value="${i18n('save')}">
			</form>
		  </div>
		</div>
	</div>
</div>
<div class="row">
	<div class="col-md-12">
		<div class="panel panel-primary">
		  <div class="panel-heading"><h3 class="panel-title">${i18n('changepassword')}</h3></div>
		  <div class="panel-body">
	            <form action="/users/updatepassword" role="form" method="post">
	               <div class="form-group<#if validation?? && validation.hasBeanViolation("userpass")> has-error</#if>">
	               	<input type="password" name="userpass" id="userpass" class="form-control input-lg" placeholder="${i18n('app.new.password')}">
	               </div>
	               <div class="form-group<#if validation?? && validation.hasBeanViolation("userpassConfirmation")> has-error</#if>">
					<input type="password" name="userpassConfirmation" id="userpassConfirmation" class="form-control input-lg" placeholder="${i18n('app.new.password.confirmation')}">
	               </div>
				<input type="submit" data-loading-text="${i18n('save')}..." class="btn btn-success" value="${i18n('save')}">
	           </form>
		  </div>
		</div>
	</div>
</div>
<div class="row">
	<div class="col-md-12">
		<div class="panel panel-primary">
		  <div class="panel-heading"><h3 class="panel-title">${i18n('changeemail')}</h3></div>
		  <div class="panel-body">
			<form action="/users/updateemail" role="form" method="post">
				<div class="form-group<#if validation?? && validation.hasBeanViolation("email")> has-error</#if>">
					<input type="text" name="email" id="email" class="form-control input-lg" placeholder="${i18n('app.new.email')}">
				</div>
				<div class="form-group<#if validation?? && validation.hasBeanViolation("emailConfirmation")> has-error</#if>">
					<input type="text" name="emailConfirmation" id="emailConfirmation" class="form-control input-lg" placeholder="${i18n('app.new.email.confirmation')}">
				</div>
				<input type="submit" data-loading-text="${i18n('save')}..." class="btn btn-success" value="${i18n('save')}">
			</form>
		  </div>
		</div>
	</div>
</div>
<div class="row">
	<div class="col-md-12">
		<div class="panel panel-primary">
		  <div class="panel-heading"><h3 class="panel-title">${i18n('changenotifications')}</h3></div>
		  <div class="panel-body">
	           <form action="/users/updatenotifications" class="form" method="post">
	               <div class="form-group">
	                   <div class="checkbox">
	                       <label> <input type="checkbox" name="sendgametips" value="1" <#if connectedUser.sendGameTips>checked</#if> id="reminder"> ${i18n('tipsinfo')} </label>
	                   </div>	                
	                   <div class="checkbox">
	                       <label> <input type="checkbox" name="reminder" value="1" <#if connectedUser.reminder>checked</#if> id="reminder"> ${i18n('betreminder')} </label>
	                   </div>
	                   <div class="checkbox">
	                       <label> <input type="checkbox" name="notification" value="1" <#if connectedUser.notification>checked</#if> id="notification"> ${i18n('resultreminder')} </label>
	                   </div>  
	                   <div class="checkbox">
	                       <label> <input type="checkbox" name="sendstandings" value="1" <#if connectedUser.sendStandings>checked</#if> id="sendstandings"> ${i18n('sendstandings')} </label>
	                   </div>                                      
	               </div>
	               <input type="submit" data-loading-text="${i18n('save')}..." class="btn btn-success" value="${i18n('save')}">
			</form>
		  </div>
		</div>
	</div>
</div>
</@layout.main>